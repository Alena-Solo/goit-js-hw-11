{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46892237-a54e01ec2b73ea1c4de56cebe';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query, page = 1, perPage = 20) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => data.hits)\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function renderGallery(images, galleryElement) {\n  galleryElement.innerHTML = '';\n\n  const markup = images\n    .map(image => {\n      return `\n      <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\"/>\n        <div class=\"image-info\">\n          <p><b>Likes:</b> ${image.likes}</p>\n          <p><b>Views:</b> ${image.views}</p>\n          <p><b>Comments:</b> ${image.comments}</p>\n          <p><b>Downloads:</b> ${image.downloads}</p>\n        </div>\n      </a>`;\n    })\n    .join('');\n\n  galleryElement.insertAdjacentHTML('beforeend', markup);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery-item', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\n\nconst form = document.querySelector('#search-form');\nconst galleryElement = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet currentQuery = '';\nlet page = 1;\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.query.value.trim();\n  if (!query) {\n    iziToast.error({ title: 'Error', message: 'Please enter a search term' });\n    return;\n  }\n\n  galleryElement.innerHTML = '';\n  currentQuery = query;\n  page = 1;\n\n  loader.style.display = 'block';\n\n  fetchImages(currentQuery, page)\n    .then(images => {\n      loader.style.display = 'none';\n      if (images.length === 0) {\n        iziToast.info({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      renderGallery(images, galleryElement);\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n      iziToast.error({ title: 'Error', message: error.message });\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","data","error","lightbox","renderGallery","images","galleryElement","markup","image","SimpleLightbox","form","loader","currentQuery","event","iziToast"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CACzD,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACD,CAAA,iEAAiEC,CAAI,aAAaC,CAAO,GAE1F,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CCjBA,IAAIC,EAEG,SAASC,EAAcC,EAAQC,EAAgB,CACpDA,EAAe,UAAY,GAE3B,MAAMC,EAASF,EACZ,IAAIG,GACI;AAAA,iBACIA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,6BAE7BA,EAAM,KAAK;AAAA,6BACXA,EAAM,KAAK;AAAA,gCACRA,EAAM,QAAQ;AAAA,iCACbA,EAAM,SAAS;AAAA;AAAA,WAG3C,EACA,KAAK,EAAE,EAEVF,EAAe,mBAAmB,YAAaC,CAAM,EAEhDJ,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIM,EAAe,gBAAiB,CAC7C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CC5BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CJ,EAAiB,SAAS,cAAc,UAAU,EAClDK,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAe,GACff,EAAO,EAEXa,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMjB,EAAQiB,EAAM,cAAc,SAAS,MAAM,MAAM,OACvD,GAAI,CAACjB,EAAO,CACVkB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,4BAA4B,CAAE,EACxE,MACD,CAEDR,EAAe,UAAY,GAC3BM,EAAehB,EACfC,EAAO,EAEPc,EAAO,MAAM,QAAU,QAEvBhB,EAAYiB,EAAcf,CAAI,EAC3B,KAAKQ,GAAU,CAEd,GADAM,EAAO,MAAM,QAAU,OACnBN,EAAO,SAAW,EAAG,CACvBS,EAAS,KAAK,CACZ,QACE,0EACZ,CAAS,EACD,MACD,CACDV,EAAcC,EAAQC,CAAc,CAC1C,CAAK,EACA,MAAMJ,GAAS,CACdS,EAAO,MAAM,QAAU,OACvBG,EAAS,MAAM,CAAE,MAAO,QAAS,QAASZ,EAAM,OAAO,CAAE,CAC/D,CAAK,CACL,CAAC"}